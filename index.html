<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>pytest DV Flow Extension &#8212; pytest DV Flow Extension  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pytest-dv-flow-extension">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">pytest DV Flow Extension</a><a class="headerlink" href="#pytest-dv-flow-extension" title="Link to this heading">¶</a></h1>
<p><cite>pytest-dfm</cite> is a DV Flow extension for the <cite>pytest</cite> testing framework.
<cite>pytest-dfm</cite> allows unit tests to run tools encapsulated as DV Flow tasks
and tasks graphs composed of those tasks. This is useful when developing
tests for a DV-targeted Python package. Test and debug is most easily
done in the context of Python (and pytest). However, artifacts created
by running the packaging being tested need to be processed by tools
available as DV Flow tasks. The <cite>pytest-dfm</cite> extension simplifies the
task of using <cite>DV Flow Manager</cite> as a part of a <cite>pytest</cite> test suite.</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#pytest-dv-flow-extension" id="id1">pytest DV Flow Extension</a></p>
<ul>
<li><p><a class="reference internal" href="#dvflow-test-fixture" id="id2">dvflow Test Fixture</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="dvflow-test-fixture">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">dvflow Test Fixture</a><a class="headerlink" href="#dvflow-test-fixture" title="Link to this heading">¶</a></h2>
<p><cite>pytest</cite> uses <a class="reference external" href="https://docs.pytest.org/en/6.2.x/fixture.html">fixtures</a> to
construct and provide services to tests. The <cite>pytest-dfm</cite> extension provides
the <cite>dvflow</cite> fixture.</p>
<p>The <cite>dvflow</cite> fixture infers a temporary directory in which to run DV Flow
tasks, and is a proxy for the <cite>DvFlow</cite> class.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_dfm.DvFlow">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_dfm.</span></span><span class="sig-name descname"><span class="pre">DvFlow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request:</span> <span class="pre">_pytest.fixtures.FixtureRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srcdir:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmpdir:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builder:</span> <span class="pre">dv_flow.mgr.task_graph_builder.TaskGraphBuilder</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_rgy:</span> <span class="pre">pytest_dfm.impl.ext_rgy.ExtRgy</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_dfm.DvFlow" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_dfm.DvFlow.addPackage">
<span class="sig-name descname"><span class="pre">addPackage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkgfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_dfm.DvFlow.addPackage" title="Link to this definition">¶</a></dt>
<dd><p>Adds a package to the task graph builder</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_dfm.DvFlow.loadPkg">
<span class="sig-name descname"><span class="pre">loadPkg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkgfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_dfm.DvFlow.loadPkg" title="Link to this definition">¶</a></dt>
<dd><p>Loads the specified flow.dv file as th root package</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_dfm.DvFlow.mkTask">
<span class="sig-name descname"><span class="pre">mkTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srcdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_dfm.DvFlow.mkTask" title="Link to this definition">¶</a></dt>
<dd><p>Creates a task of the specified type</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_dfm.DvFlow.runTask">
<span class="sig-name descname"><span class="pre">runTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listener</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nproc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_dfm.DvFlow.runTask" title="Link to this definition">¶</a></dt>
<dd><p>Executes the specified tree of task nodes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_dfm.DvFlow.setEnv">
<span class="sig-name descname"><span class="pre">setEnv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_dfm.DvFlow.setEnv" title="Link to this definition">¶</a></dt>
<dd><p>Sets the environment for the task graph</p>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">pytest DV Flow Extension</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Matthew Ballance.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>